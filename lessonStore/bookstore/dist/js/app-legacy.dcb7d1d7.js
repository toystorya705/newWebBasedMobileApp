(function(){"use strict";var t={9820:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var o=r(9567),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"navBar"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"searcBar",attrs:{placeholder:"Search Lesson",icon:"search"},domProps:{value:t.filter},on:{keyup:t.productsFetch,input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(0),r("span",{staticStyle:{"font-size":"30px",cursor:"pointer"},attrs:{onclick:"openNav()"}},[t._v("☰ open")])]),r("p",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{type:"radio",id:"default",value:"default"},domProps:{checked:t._q(t.filterName,"default")},on:{click:t.defaultClick,change:function(e){t.filterName="default"}}}),r("label",{attrs:{for:"default"}},[t._v("Default")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{type:"radio",id:"price",value:"price"},domProps:{checked:t._q(t.filterName,"price")},on:{click:t.filterClick,change:function(e){t.filterName="price"}}}),r("label",{attrs:{for:"price"}},[t._v("Price")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{type:"radio",id:"location",value:"location"},domProps:{checked:t._q(t.filterName,"location")},on:{click:t.filterClick,change:function(e){t.filterName="location"}}}),r("label",{attrs:{for:"location"}},[t._v("location")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{type:"radio",id:"stock",value:"stock"},domProps:{checked:t._q(t.filterName,"stock")},on:{click:t.filterClick,change:function(e){t.filterName="stock"}}}),r("label",{attrs:{for:"stock"}},[t._v("Stock")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{type:"radio",id:"subject",value:"subject"},domProps:{checked:t._q(t.filterName,"subject")},on:{click:t.filterClick,change:function(e){t.filterName="subject"}}}),r("label",{attrs:{for:"subject"}},[t._v("Subject")])]),r("p",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],attrs:{type:"radio",id:"asec",value:"asec"},domProps:{checked:t._q(t.sort,"asec")},on:{change:function(e){t.sort="asec"}}}),r("label",{attrs:{for:"asec"}},[t._v("Aescending")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],attrs:{type:"radio",id:"dsec",value:"dsec"},domProps:{checked:t._q(t.sort,"dsec")},on:{change:function(e){t.sort="dsec"}}}),r("label",{attrs:{for:"dsec"}},[t._v("Descending")])]),r("button",{attrs:{disabled:t.cartCheckDisable},on:{click:t.showCart}},[t._v(t._s(t.cartItemCount)+" "),r("span",{staticClass:"glyphicon glyphicon-shopping-cart"}),t._v("Cart ")]),r(t.showProduct,{tag:"component",attrs:{cart:t.cart,cartCount:t.cartCount,getproduct:t.getproduct,product:t.product},on:{removeButton:t.removeButton,addItem:t.addItem}})],1)},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidenav",attrs:{id:"mySidenav"}},[r("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)",onclick:"closeNav()"}},[t._v("×")]),r("a",{attrs:{href:"#"}},[t._v("About")]),r("a",{attrs:{href:"#"}},[t._v("Services")]),r("a",{attrs:{href:"#"}},[t._v("Clients")]),r("a",{attrs:{href:"#"}},[t._v("Contact")])])}],i=r(6198),s=(r(8975),r(7327),r(1539),r(561),r(2707),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.getproduct,(function(e,o){return r("div",{key:o,staticClass:"card",staticStyle:{width:"18rem"}},[r("img",{staticClass:"card-img-top",attrs:{src:e.image,alt:"Card image cap"}}),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-title"},[t._v("Subject: "+t._s(e.subject))]),r("p",[t._v("Location: "+t._s(e.location))]),r("p",[t._v("Price: "+t._s(e.price))]),r("p",[t._v("Stock: "+t._s(e.stock))]),r("div"),r("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0==e.stock},on:{click:function(r){return t.addItem(e)}}},[t._v(" Add To Cart ")]),0===e.stock?r("span",[t._v("All out!")]):e.stock<5?r("span",[t._v(" Only "+t._s(e.stock)+" left! ")]):r("span",[t._v("Buy now!")])])])})),0)}),a=[],u={name:"ProductList",props:["product","getproduct"],data:function(){return{filterName:""}},methods:{addItem:function(t){console.log(this.$parent.cartCount(4)),t.stock>0&&(console.log(t),this.$emit("addItem",t))}}},l=u,d=r(1001),p=(0,d.Z)(l,s,a,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"checkoutBody"},[t._l(t.product,(function(e,o){return r("div",{key:o,staticClass:"card",staticStyle:{width:"18rem"}},[t.cartCount(o)>0?r("div",[r("img",{staticClass:"card-img-top",attrs:{src:e.image,alt:"Card image cap"}}),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-title"},[t._v("Subject: "+t._s(e.subject))]),r("p",[t._v("Location: "+t._s(e.id))]),r("p",[t._v("Price: "+t._s(e.price))]),r("p",[t._v("Stock Added to Cart: "+t._s(t.cartCount(o)))]),r("div"),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.removeButton(o)}}},[t._v("Remove")])])]):t._e()])})),r("h2",[t._v("Checkout")]),r("p",[r("strong",[t._v("Name:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.name,expression:"order.name"}],domProps:{value:t.order.name},on:{input:function(e){e.target.composing||t.$set(t.order,"name",e.target.value)}}})]),r("p",[r("strong",[t._v("Phone:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.phone,expression:"order.phone"}],domProps:{value:t.order.phone},on:{input:function(e){e.target.composing||t.$set(t.order,"phone",e.target.value)}}})]),r("h2",[t._v("Order Information")]),r("p",[t._v("Name: "+t._s(t.order.name))]),r("p",[t._v("Phone: "+t._s(t.order.phone))]),r("button",{attrs:{disabled:t.submitForm},on:{click:t.placeOrder}},[t._v("Place Order")]),r("p",[t._v(" "+t._s(t.messageCheckout))])],2)])},m=[],v=(r(8862),r(4916),r(4723),r(8309),{name:"formList",props:["cart","product","cartCount"],data:function(){return{messageCheckout:"",order:{name:"",phone:""}}},methods:{removeButton:function(t){this.$emit("removeButton",t)},placeOrder:function(){var t=(0,i.Z)(regeneratorRuntime.mark((function t(){var e,r,o,n,c,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(console.log(this.cartCount(1)+" ttttttt"),e=[],r=[],o=0;o<this.product.length;o++)0!=this.$parent.cartCount(this.product[o].id)&&(e.push(Object.assign({},this.order,{productID:this.product[o]._id,stock:this.cartCount(this.product[o].id)})),r.push(Object.assign({},this.product[o],{stock:this.product[o].stock})),console.log("hjueheufjeferf"));return console.log(e,r,r[0]._id),t.next=7,this.fetchFunction(e,"POST","https://vueproject99.herokuapp.com/collection/users");case 7:if(n=t.sent,"OK"!=n){t.next=20;break}c=0;case 10:if(!(c<r.length)){t.next=20;break}return i=r[c]._id,delete r[c]._id,t.next=15,this.fetchFunction(r[c],"PUT","https://vueproject99.herokuapp.com/collection/products/"+i);case 15:s=t.sent,console.log(s);case 17:c++,t.next=10;break;case 20:console.log("yoyoy"),console.log(n),this.messageCheckout="Order Placed";case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fetchFunction:function(){var t=(0,i.Z)(regeneratorRuntime.mark((function t(e,r,o){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(o,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.text();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));function e(e,r,o){return t.apply(this,arguments)}return e}()},computed:{submitForm:function(){return!(this.order.name.match(/[A-Za-z]/)&&this.order.phone.match(/[0-9]/)&&this.order.phone.length>=10)}}}),k=v,g=(0,d.Z)(k,h,m,!1,null,null,null),_=g.exports,b={name:"App",components:{"products-list":f,"form-list":_},data:function(){return{sitename:"Book Store",cart:[],showProduct:f,product:[{}],filter:"",filterName:"",sort:""}},methods:{productsFetch:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t.filter){e.next=8;break}return t.product=null,e.next=4,fetch("https://vueproject99.herokuapp.com/collection/products/"+t.filter);case 4:r=e.sent,console.log("yoyoy"),e.next=11;break;case 8:return e.next=10,fetch("https://vueproject99.herokuapp.com/collection/products");case 10:r=e.sent;case 11:return e.next=13,r.json();case 13:o=e.sent,t.product=o,console.log(t.product);case 16:case"end":return e.stop()}}),e)})))()},addItem:function(t){--this.product[t.id].stock,this.cart.push(t.id),console.log(this.cart)},removeButton:function(t){this.product[t].stock++;for(var e=0;e<this.cart.length;e++)if(this.cart[e]==t){this.cart.splice(e,1);break}},cartCount:function(t){for(var e=0,r=0;r<this.cart.length;r++)this.cart[r]===t&&e++;return e},showCart:function(){this.showProduct=this.showProduct==f?_:f},filterClick:function(){this.sort="asec"},defaultClick:function(){this.sort=""}},computed:{cartCheckDisable:function(){return this.showProduct!=_&&0===this.cart.length},cartItemCount:function(){return this.cart.length||""},getproduct:function(){var t=this.product;if(console.log("33"),"subject"==this.filterName){if("dsec"==this.sort)return t.sort((function(t,e){return e.subject>t.subject?1:-1}));if("asec"==this.sort)return t.sort((function(t,e){return e.subject<t.subject?1:-1}))}else if("price"==this.filterName){if("dsec"==this.sort)return t.sort((function(t,e){return e.price-t.price}));if("asec"==this.sort)return t.sort((function(t,e){return t.price-e.price}))}else if("location"==this.filterName){if("dsec"==this.sort)return t.sort((function(t,e){return e.location>t.location?1:-1}));if("asec"==this.sort)return t.sort((function(t,e){return e.location<t.location?1:-1}))}else{if("stock"!=this.filterName)return t;if("dsec"==this.sort)return t.sort((function(t,e){return e.stock-t.stock}));if("asec"==this.sort)return t.sort((function(t,e){return t.stock-e.stock}))}return t}},created:function(){this.productsFetch()},mounted:function(){this.productsFetch()}},C=b,y=(0,d.Z)(C,n,c,!1,null,null,null),N=y.exports;o.Z.config.productionTip=!1,new o.Z({render:function(t){return t(N)}}).$mount("#app")}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var c=e[o]={id:o,loaded:!1,exports:{}};return t[o](c,c.exports,r),c.loaded=!0,c.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,c){if(!o){var i=1/0;for(l=0;l<t.length;l++){o=t[l][0],n=t[l][1],c=t[l][2];for(var s=!0,a=0;a<o.length;a++)(!1&c||i>=c)&&Object.keys(r.O).every((function(t){return r.O[t](o[a])}))?o.splice(a--,1):(s=!1,c<i&&(i=c));if(s){t.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}c=c||0;for(var l=t.length;l>0&&t[l-1][2]>c;l--)t[l]=t[l-1];t[l]=[o,n,c]}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,c,i=o[0],s=o[1],a=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(a)var l=a(r)}for(e&&e(o);u<i.length;u++)c=i[u],r.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return r.O(l)},o=self["webpackChunkbookstore"]=self["webpackChunkbookstore"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(9820)}));o=r.O(o)})();
//# sourceMappingURL=app-legacy.dcb7d1d7.js.map